# 프로세스와 컨텍스트 스위칭

## 프로세스 구조

![운영체제의 프로세스 구조](./img/프로세스구조.png)

### 스택 ( STACK )

* 프로그램이 자동으로 사용하는 임시 메모리 영역으로 지역변수, 매개변수, 리턴값 등이 잠시 사용되었다가 사라지는 데이터를 저장하는 영역
* Stack 사이즈가 고정되어 있어 런타임 시 Stack 사이즈를 변경할 수 없다
* `스택 프레임`이라고도 한다.

### 힙 ( HEAP )

* 코드상에서 `동적으로 메모리 할당`이 필요한 경우

```java
// java
클래스 obj = new 클래스();
```

```C
// C
int *data;
data = ( int * ) malloc(sizeof(int));
```

### 코드 ( CODE )

* 프로그램의 소스 코드가 존재함

### 데이타 ( DATA )

* 코드 상의 변수들
* 초기화된 데이터
* 데이터는 BSS와 DATA로 분리
  * BSS : 초기화 되지 않은 전역변수
  * DATA : 초기값이 있는 전역변수

## 프로세스 구조와 컴퓨터 구조

* PC(Program Counter) + SP(Stack Pointer)
  * Program Counter
    * CODE 상에 올라간 소스 메모리 위치
  * Stack Pointer
    * STACK 상에 현재 처리하는 위치

* EBP 레지스터
  * 스택상에 마지막 함수 호출 위치
  * 예외 발생시 트랙킹을 위한 위치 저장

* EAX 레지스터
  * 함수의 리턴 값을 저장

## 스텍오버플로우

* 프로세스 구조를 기반으로하는 해킹기법